### Визуализация и проверка пути

Визуализатор конфигурационных пространств представляет собой Java приложение, написанное с помощью библиотеки JavaFX.
Дополнительными зависимостями является библиотека Jackson для работы с JSON.
Описание формата данных приведено [здесь](formats.md).

***Исполняемый jar-файл*** приложения `ObstacleVisualizer.jar` можно загрузить [отсюда](../visualizer/bin).


#### Внешний вид и части визуализатора

Приложение визуализатора состоит из 2 частей:

* 3D сцена для отображения объектов
* Toolbar для загрузки и работы с путем


#### Навигация по 3D сцене  

3D сцена позволяет отображать загруженное конфигурационное пространство, путь и осуществлять перемещение по сцене.

В визуализаторе используются следующие клавиши:
* `W` - перемещение вперед
* `A` - перемещение влево
* `S` - перемещение назад
* `D` - перемещение вправо
* `Space` - перемещение вверх
* `Ctrl` - перемещение вниз
* `Shift` - модификатор шага перемещения (при зажатой клавише увеличивается расстояние, на которое перемещается камера)
* `Esc`- выход из программы

Все перемещения выполняются при учете соответствующего направления камеры.

Вращение камеры осуществляется путем зажатия любой клавиши мыши и поворотом мыши в соответствующее движению направление без инверсии движения.



Пример сцены с загруженными препятствиями и путем из папки [samples](../visualizer/samples)
![Sample scene with path](./scene.png)

Щелчок по любому из препятствий изменяет его отображение со сплошного на отображение ребер и наоборот
![Obstacle with Line Visualization](./obstacleLineFormat.png)


#### Проверка пересечения пути

Для проверки пересечения пути загружается файл, содержащий точки пути в формате JSON. Пример файла находится в папке [samples](../visualizer/samples).

После разбора файла, визуализатор отображает заданный путь на сцене и показывает наличие пересечений с другими препятствиями.
При установке флага "Показать пересечения" препятствия, с которыми произошло пересечение, будут окрашены в красный цвет.
После нажатия на кнопку "Очистить путь" можно выбрать новый файл для загруки пути.

![Path with intersections](./pathWithIntersections.png)


#### Работа с визуализатором

При запуске визуализатора открывается окно для выбора файла конфигурационного пространства в формате JSON.
После загрузке сцены пользователю предоставляется возможность перемещения по сцене при помощи мыши и управляющих клавиш.
Для загрузки пути необходимо нажать кнопку "Проверить путь" и выбрать JSON-файл пути.
После загрузки выбранного файла производится проверка на наличие пересечений с препятсвиями, и, если пересечения будут обнаружены, в верхней части окна появится соответствующая надпись.


#### Сборка визуализатора

Визуализатор реализован на языке Java, поэтому для сборки визуализатора из исходных файлов требуется установленный JDK.

Документация по исходному коду визуализатора может быть получена при помощи Javadoc.
